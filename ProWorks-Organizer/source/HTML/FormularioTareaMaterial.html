<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="../../include/jquery/jquery-3.7.1.min.js"></script>
  <script src="../../include/jquery/jquery-ui.min.js"></script>
  <link rel="stylesheet" href="/source/CSS/FormularioEstilosGenerico.css">
  <link rel="stylesheet" href="/source/CSS/Calendario.css">

  <title>Formulario con Listado de TareaMaterial</title>
  
</head>
<body>

  <form>
    <h2>Listado de TareaMaterial</h2>
    <ul id="listaElementos">
    
    </ul>
    <label id="elemento">Nueva TareaMaterial:</label>
    <input type="hidden" id="Identificador" name="elemento" >
    <input type="text" id="idTarea_TareMate" name="elemento" placeholder= "idTarea_TareMate" >
    <input type="text" id="idMaterial_TareMate" name="elemento" placeholder="idMaterial_TareMate">
    <input type="text" id="materialPrevisto_TareMate" name="elemento" placeholder= "materialPrevisto_TareMate" >
    <input type="text" id="materialUtilizado_TareMate" name="elemento" placeholder="materialUtilizado_TareMate">
    <input type="text" id="comentario_TareMate" name="elemento" placeholder= "comentario_TareMate" >

    <button type="button" id="agregar" onclick="">Agregar</button>
  </form>

  

    
    <script>
    $(document).ready(function(){
      var contador = 1;

      $('#agregar').click(function(){
        var idTarea_TareMate = $('#idTarea_TareMate').val();
        var idMaterial_TareMate = $('#idMaterial_TareMate').val();
        var materialPrevisto_TareMate = $('#materialPrevisto_TareMate').val();
        var materialUtilizado_TareMate = $('#materialUtilizado_TareMate').val();
        var comentario_TareMate = $('#comentario_TareMate').val();
       

        if(idTarea_TareMate != '' && idMaterial_TareMate != ''  ){
            var elemento = '<li>' + contador  + '. idTarea_TareMate:  ' + idTarea_TareMate + '  idMaterial_TareMate: ' + idMaterial_TareMate + '  materialPrevisto_TareMate: ' + materialPrevisto_TareMate + '  materialUtilizado_TareMate: ' + materialUtilizado_TareMate +  '  comentario_TareMate: ' + comentario_TareMate + '</li>';
            $('#listaElementos').append(elemento);
            contador++;
           
            $('#idTarea_TareMate').val('');
            $('#idMaterial_TareMate').val('');
            $('#materialPrevisto_TareMate').val('');
            $('#materialUtilizado_TareMate').val('');
            $('#comentario_TareMate').val('');
           
            $.post("../PHP/tareamaterial_tools.php", { idTarea_TareMate: idTarea_TareMate , idMaterial_TareMate: idMaterial_TareMate, materialPrevisto_TareMate: materialPrevisto_TareMate, materialUtilizado_TareMate: materialUtilizado_TareMate, comentario_TareMate: comentario_TareMate }).done(function( data ) {
            console.log(data);
         
      });
    } else {
      alert('Por favor, completa todos los campos.');
    }
      });
    });
    </script>
</body>
</html>


